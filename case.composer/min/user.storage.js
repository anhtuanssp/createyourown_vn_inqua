!function(o,e,t,n){CP.User=function(){this.name="",this.avatar="",this.email="",this.facebookObj={status:null,album:null,key:"facebook_obj"},this.id=null,this.key="cyo_user"},CP.User.prototype.init=function(){},CP.User.prototype.loginFacebook=function(o){var e=this,t=new CP.FacebookService;t.loginFacebook(function(){e.checkFacebookObj(),o()})},CP.User.prototype.getFacebook=function(){return localStorage[this.facebookObj.key]!=n?jQuery.parseJSON(localStorage[this.facebookObj.key]):null},CP.User.prototype.checkFacebookObj=function(o,e,t){var n=new CP.FacebookService,c=this;n.checkLogin(function(e){console.log(e),c.setFacebook(e),"function"==typeof o&&o(e)},function(t){"function"==typeof o&&e(t)},function(e){"function"==typeof o&&t(e)})},CP.User.prototype.setFacebook=function(o){localStorage[this.facebookObj.key]=JSON.stringify(o),this.facebookObj.status=localStorage[this.facebookObj.key]},CP.User.prototype.checkLogin=function(){},CP.User.prototype.getName=function(){return this.name},CP.User.prototype.setName=function(o){this.name=o},CP.SingletonUser=function(){function o(o,e){var t=new CP.User;return t.init(),t}var e;return{getInstance:function(){return e||(e=o()),e}}}()}(jQuery,window,document);