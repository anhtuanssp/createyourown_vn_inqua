!function(t,e,o,n){CP.SnapShotModule=function(t){this.viewPath="js/module/snapshot/view/template.html",this.callbackDashboard=t,this.$btnPhoto=null,this.$elResult=null},MYLIB.extend(CP.SnapShotModule,CP.PopupModule),CP.SnapShotModule.prototype.init=function(){this.titlePopup="Chụp ảnh nào",this.parent.proto.init.call(this),this.$el.find(".modal-dialog").removeClass("modal-lg"),this.$el.appendTo("body"),this.render()},CP.SnapShotModule.prototype.getElement=function(){return this.$el},CP.SnapShotModule.prototype.render=function(){var e=this;t.get(this.viewPath,function(o){var n=t(o).html(),i=Handlebars.compile(n),l=i();e.$elContent.append(t(l)),e.initElement.call(e),e.bindEvent()})},CP.SnapShotModule.prototype.initElement=function(){this.$btnPhoto=this.$elContent.find(".btn-take-photo"),this.$elResult=this.$elContent.find(".result")},CP.SnapShotModule.prototype.show=function(){Webcam.reset(),Webcam.set({width:420,height:340,image_format:"jpeg",jpeg_quality:90}),Webcam.attach("#webcam-popup"),this.$el.modal("show")},CP.SnapShotModule.prototype.bindEvent=function(){MYLIB.click(this.$btnPhoto,this.takeAShotToCanvas.bind(this))},CP.SnapShotModule.prototype.takeAShotToCanvas=function(){var t=this;Webcam.snap(function(e){t.$elResult.html("");var o='<img src=" '+e+' " style="width:100%"/>';t.$elResult.append(o),MYLIB.eventManager.fireEvent(t,MYLIB.eventNames.event_upload_from_computer,e)})},MYLIB.mixin(CP.PopupAssetsModule,MYLIB.Event.ObserverMixin)}(jQuery,window,document);