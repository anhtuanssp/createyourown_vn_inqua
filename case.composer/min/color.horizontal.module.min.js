!function(t,o,l,i){function e(t){return t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),n(t[1])+n(t[2])+n(t[3])}function n(t){return isNaN(t)?"00":r[(t-t%16)/16]+r[t%16]}CP.ColorModuleHorizontal=function(){this.$el=null,this.viewPath=MYLIB.mainUrl+"js/module/color.horizontal.module/view/tmp.html",this.$listColor=null,this.$elCirleResult=null},CP.ColorModuleHorizontal.prototype.init=function(o){var l=this;t.get(this.viewPath,function(e){var n=t(e).html(),r=Handlebars.compile(n);l.$el=t(r()),l.$listColor=t(l.$el[2]).find("#color-horizontal-module-main"),l.$elCirleResult=t(l.$el[2]).find(".circle-result"),l.bindEvent(),o!=i&&"function"==typeof o&&o.call(l)})},CP.ColorModuleHorizontal.prototype.bindEvent=function(){var o=this;this.$elCirleResult.parent().draggable({axis:"x",grid:[20,0],drag:function(t,o){return o.position.left<=-10?(o.position.left=0,!1):o.position.left>540?(o.position.left=540,!1):void 0},stop:function(t,l){var i=Math.round(l.position.left/20),e=o.$listColor.find("li").eq(i).find("div");o.applyResult(e)}}),this.$listColor.find("li").click(function(l){var i=t(this).find("div");o.applyResult(i)})};var r=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");CP.ColorModuleHorizontal.prototype.applyResult=function(t){var o=this,l=t.position();this.$elCirleResult.css({background:t.css("background-color")}),this.$elCirleResult.parent().css({left:l.left-10}),MYLIB.eventManager.fireEvent(o,MYLIB.eventNames.event_change_color,e(t.css("background-color")))}}(jQuery,window,document);