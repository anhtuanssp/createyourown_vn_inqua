!function(t,i,e,n){CP.EditImgsModule=function(t){this.viewPath="js/module/edit.imgs.module/view/template.html",this.imgOriginal=null,this.imgWrapper=null,this.listLiEffect=null,this.btnApply=null,this.callbackDashboard=t},MYLIB.extend(CP.EditImgsModule,CP.PopupModule),CP.EditImgsModule.prototype.init=function(){this.titlePopup="Chỉnh sửa hình ảnh",this.parent.proto.init.call(this),this.$el.appendTo("body"),this.render()},CP.EditImgsModule.prototype.getElement=function(){return this.$el},CP.EditImgsModule.prototype.render=function(){var i=this;t.get(this.viewPath,function(e){var n=t(e).html(),l=Handlebars.compile(n),s=l();i.$elContent.append(t(s)),i.initElement.call(i),i.bindEvent()})},CP.EditImgsModule.prototype.initElement=function(){this.imgWrapper=this.$elContent.find(".img-result"),this.listLiEffect=this.$elContent.find(".effect-zone li"),this.btnApply=this.$elContent.find(".apply-effect")},CP.EditImgsModule.prototype.bindEvent=function(){this.listLiEffect.bind("click",this.imgsApplyEffectHandle.bind(this)),this.btnApply.bind("click",this.applyImageToCanvas.bind(this))},CP.EditImgsModule.prototype.applyImageToCanvas=function(){this.callbackDashboard.appleEffectImg.call(this.callbackDashboard,this.imgOriginal.attr("src")),this.hide()},CP.EditImgsModule.prototype.imgsApplyEffectHandle=function(i){this.listLiEffect.removeClass("active"),t(i.currentTarget).addClass("active");var e=t(i.currentTarget).data("type");this.imgOriginal.vintage();var n=this.imgOriginal.data("vintageJS");n.reset(),n.apply(),n.vintage(vintagePresets[e])},CP.EditImgsModule.prototype.show=function(i){var e='<img src="{0}" style="width:100%"/>';e=e.format(i),this.imgWrapper.html(""),this.imgOriginal=t(e),this.imgWrapper.append(this.imgOriginal),this.$el.modal("show")},MYLIB.mixin(CP.PopupAssetsModule,MYLIB.Event.ObserverMixin)}(jQuery,window,document);