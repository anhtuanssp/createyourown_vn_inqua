!function(t,o,e,c){CP.ChooseProduct=function(){var o='<div data-step="1" data-intro="Chọn sản phẩm!" id="{0}"" class="{1}" style="margin-bottom: 10px;width:100%;overflow-x:auto"><div class="content-product-list" style="min-width: 1500px;"></div></div>';this.$el=null,this.productService=null,this.data=null,this.productItems=[],this.init=function(){o=o.format(MYLIB.constant.choose_product_id,MYLIB.constant.choose_product_class),this.$el=t(o),this.productService=new CP.productSerice,this.renderProduct()},this.initSpecificProduct=function(e){o=o.format(MYLIB.constant.choose_product_id,MYLIB.constant.choose_product_class),this.$el=t(o),this.productService=new CP.productSerice,this.renderProducSpecificProduct(e)},this.getElement=function(){return this.$el}},CP.ChooseProduct.prototype.productDicts=[],CP.ChooseProduct.prototype.renderProduct=function(){var t=this,o=this.productService.getProducts(4);MYLIB.LOADING_LITTLE(t.$el,"loading.."),o.done(function(o){t.data=o.products,t.render(t.data),MYLIB.REMOVE_LOADING_LITTLE(t.$el)})},CP.ChooseProduct.prototype.renderProducSpecificProduct=function(t){var o=this,e=this.productService.getSpecificProducts(t);MYLIB.LOADING_LITTLE(o.$el,"loading.."),e.done(function(t){o.data=t.products,o.render(o.data),MYLIB.REMOVE_LOADING_LITTLE(o.$el)})},CP.ChooseProduct.prototype.render=function(t){var o=this,e=(t[0],""!==t[0].product_title_seo?t[0].product_title_seo:t[0].product_name);MYLIB.setSEOOnPage(e,t[0].product_desc_seo);var c=o.$el.find(".content-product-list");_.each(t,function(t,e,r){var i=new CP.ProductItem;i.init(t),c.append(i.getElement()),o.productItems.push(i)});var r=this.productItems[0];r.$el.trigger("click")}}(jQuery,window,document),function(t,o,e,c){CP.ProductItem=function(){},CP.ProductItem.prototype.$el=null,CP.ProductItem.prototype.data=null,CP.ProductItem.prototype.html='<div class="product-item"></div>',CP.ProductItem.prototype.active=!1,CP.ProductItem.prototype.init=function(o){this.$el=t(this.html);var e='<div class="title_product">{0}</div>',c='<div class="img_product">{0}</div>',r='<img src="{0}" class="img-responsive" />';e=e.format(o.product_name),r=r.format(MYLIB.IMAGEHOST+o.product_img_thumb),c=c.format(r),this.data=o,this.data.product_img_primary=MYLIB.IMAGEHOST+o.product_img_primary,this.data.product_img_primary_mask=MYLIB.IMAGEHOST+o.product_img_primary_mask,this.data.product_img_thumb=MYLIB.IMAGEHOST+o.product_img_thumb,this.data.product_img_back=MYLIB.IMAGEHOST+o.product_img_back,this.data.product_img_back_mask=MYLIB.IMAGEHOST+o.product_img_back_mask,this.data.product_layer_circle=MYLIB.IMAGEHOST+o.product_layer_circle,this.data.product_layer_circle_mask=MYLIB.IMAGEHOST+o.product_layer_circle_mask,this.$el.append(c),this.$el.append(e),this.bindEvent()},CP.ProductItem.prototype.getElement=function(){return this.$el},CP.ProductItem.prototype.bindEvent=function(){this.$el.unbind("click touchstart",this.chooseProductHandle).bind("click touchstart",this,this.chooseProductHandle)},CP.ProductItem.prototype.chooseProductHandle=function(o){var e=o.data;t(".product-item").removeClass("active"),e.$el.toggleClass("active"),MYLIB.eventManager.fireEvent(e,MYLIB.eventNames.chooseProductItem,e.data)},MYLIB.mixin(CP.ProductItem,MYLIB.Event.ObserverMixin)}(jQuery,window,document);